<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Camilla Salvatore, Peter Lugtig">

<title>The Election Challange</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="election_challange_files/libs/clipboard/clipboard.min.js"></script>
<script src="election_challange_files/libs/quarto-html/quarto.js"></script>
<script src="election_challange_files/libs/quarto-html/popper.min.js"></script>
<script src="election_challange_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="election_challange_files/libs/quarto-html/anchor.min.js"></script>
<link href="election_challange_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="election_challange_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="election_challange_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="election_challange_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="election_challange_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><strong>Introduction</strong></a>
  <ul class="collapse">
  <li><a href="#the-problem" id="toc-the-problem" class="nav-link" data-scroll-target="#the-problem">The Problem</a></li>
  <li><a href="#the-data" id="toc-the-data" class="nav-link" data-scroll-target="#the-data">The Data</a>
  <ul class="collapse">
  <li><a href="#list-of-variables" id="toc-list-of-variables" class="nav-link" data-scroll-target="#list-of-variables">List of Variables:</a></li>
  </ul></li>
  <li><a href="#your-tasks" id="toc-your-tasks" class="nav-link" data-scroll-target="#your-tasks">Your tasks:</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><strong>The Election Challange</strong></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Camilla Salvatore, Peter Lugtig </p>
          </div>
  </div>
    
    
  </div>
  

</header>

<section id="introduction" class="level1">
<h1><strong>Introduction</strong></h1>
<p>This material is part of the Utrecht <a href="https://utrechtsummerschool.nl/courses/data-science/survey-research-statistical-analysis-and-estimation">Summer School S16 - Survey Research: Statistical Analysis and Estimation</a>.</p>
<section id="the-problem" class="level2">
<h2 class="anchored" data-anchor-id="the-problem">The Problem</h2>
<p>The dataset(s) you will use today are a slightly adapted from data that are publicly available through PEW, which is a non-profit survey data collection organisation in the USA.</p>
<p>Between June and July 2016, PEW designed a short questionnaire and then asked three organizations that rely on volunteer opt-in survey panels to administer this questionnaire in their panel. This resulted in a dataset of about 30.000 respondents. You are today getting about two/thirds of these respondents to develop an adjustment method. The remaining 10.000 respondents will serve as the hold-out sample against which I will test your adjustment method. I also excluded many variables: your dataset will consist of about 30 variables which you can use for adjustment, and 1 dependent variable called VOTESUM.</p>
<p>The variable <code>VOTESUM</code> asks for the future voting behavior in the November 2016 Presidential Election, with a choice between Clinton, Trump and being undecided. At 1 July, the aggregated polls indicated that Clinton would receive 46% of the vote, and Trump 42%, with the rest being undecided. If I correct for the bias that was present in the polls throughout the 2016 election cycle, my best guess for the true difference between the candidates would have been 45% for Clinton and 43% for Trump.</p>
<p>If you want to know more about the study and data, have a look <a href="https://www.pewresearch.org/methods/2018/01/26/for-weighting-online-opt-in-samples-what-matters-most/">here</a>.</p>
</section>
<section id="the-data" class="level2">
<h2 class="anchored" data-anchor-id="the-data">The Data</h2>
<p>You are provided with a dataset derived from a survey conducted by PEW between June and July 2016. The survey includes 30 variables related to demographic, socioeconomic, and behavioral characteristics, along with a dependent variable <code>VOTESUM</code>, which captures respondents’ intended voting behavior.</p>
<p><strong>Dependent Variable:</strong></p>
<ul>
<li><code>VOTESUM</code>: Respondent’s intended vote in the November 2016 Presidential Election (Clinton, Trump, Undecided)</li>
</ul>
<p><strong>Covariates:</strong> The dataset contains 30 covariates, including demographic variables such as gender, age, education, and additional variables related to lifestyle, political engagement, and more. These variables may be correlated with both the selection bias (R) and the dependent variable (Y).</p>
<section id="list-of-variables" class="level3">
<h3 class="anchored" data-anchor-id="list-of-variables">List of Variables:</h3>
<ol type="1">
<li><p><code>GENDER</code>: Male, Female</p></li>
<li><p><code>AGE</code>: Age in years</p></li>
<li><p><code>EDUCCAT5</code>: Educational level (5 categories), low to high</p></li>
<li><p><code>DIVISION</code>: Region (4 categories)</p></li>
<li><p><code>MARITAL_ACS</code>: Marital status (5 categories)</p></li>
<li><p><code>HHSIZECAT</code>: Household size (1, 2, 3+)</p></li>
<li><p><code>CHILDRENCAT</code>: Children at home (1, 2, 3+)</p></li>
<li><p><code>CITIZEN_REC</code>: U.S. citizen (Yes, No)</p></li>
<li><p><code>BORN_ACS</code>: Born in or outside the USA</p></li>
<li><p><code>FAMINC5</code>: Income (5 bands: &lt;20k, 20-40k, 40-75k, 75-150k, &gt;150k)</p></li>
<li><p><code>EMPLOYED</code>: Employment status (Yes, No)</p></li>
<li><p><code>MIL_ACS_REC</code>: Military service (Never, Has served)</p></li>
<li><p><code>HOME_ACS_REC</code>: Homeownership status (Own, Rent, Rent without pay)</p></li>
<li><p><code>FDSTMP_CPS</code>: Receipt of food stamps (Yes, No)</p></li>
<li><p><code>TENURE_ACS</code>: Residence at current address one year ago (Yes, No)</p></li>
<li><p><code>PUB_OFF_CPS</code>: Visited a public official to express opinion in the past 12 months (Yes, No)</p></li>
<li><p><code>COMGRP_CPS</code>: Participation in community groups in the past year (Yes, No)</p></li>
<li><p><code>TALK_CPS</code>: Frequency of talking to family (5 categories)</p></li>
<li><p><code>TRUST_CPS</code>: Trust in neighbors (5 categories)</p></li>
<li><p><code>TABLET_CPS</code>: Use of a tablet (Yes, No)</p></li>
<li><p><code>TEXTIM_CPS</code>: Sending text messages (Yes, No)</p></li>
<li><p><code>SOCIAL_CPS</code>: Active on social media (Yes, No)</p></li>
<li><p><code>VOLSUM</code>: Volunteering status (Yes, No)</p></li>
<li><p><code>REGISTERED</code>: Registered to vote (Yes, No)</p></li>
<li><p><code>VOTE14</code>: Voted in 2014 midterm election (Yes, No)</p></li>
<li><p><code>PARTYSCALE5</code>: Party attachment (5 categories)</p></li>
<li><p><code>RELIGCAT</code>: Religious affiliation (5 categories: Roman Catholic, Evangelical, Main Protestant, Other, Unaffiliated)</p></li>
<li><p><code>IDEO3</code>: Ideological orientation (Liberal, Moderate, Conservative)</p></li>
<li><p><code>OWNGUN_GSS</code>: Owns a gun (Yes, No)</p></li>
<li><p><code>FOLGOV</code>: Follows the government (Yes, No)</p></li>
</ol>
<p>You have two datasets available.</p>
<ol type="1">
<li><strong>The non-probability dataset:</strong> with a sample from three different vendors</li>
</ol>
<p>Follow this code to load and inspect the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>nonprob <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"PEW nonprob samples HOLDOUT.RDS"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># below you see how many cases there are from each vendor</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(nonprob<span class="sc">$</span>vendor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Vendor 1 Vendor 2 Vendor 3 
    4927     4706     5113 </code></pre>
</div>
</div>
<ol start="2" type="1">
<li><p><strong>The reference dataset</strong> that you can use either as:</p>
<ul>
<li><p>a reference probability samples</p></li>
<li><p>the population from which extract population totals</p></li>
</ul></li>
</ol>
<p>Follow this code to load the data</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>popdata <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"PEW population data.RDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="your-tasks" class="level2">
<h2 class="anchored" data-anchor-id="your-tasks">Your tasks:</h2>
<p>You have 30 variables to use in order to build a model from and predicting voting behaviour starting form a nonprobability sample. You can use just one of the probability samples or compare the three.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Please note the following:
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>It is nice if the covariates you use also predict Y (voting behavior). There is no need to read the literature on voting behavior, but do think about this when you select your adjustment variables</p></li>
<li><p>If you want to include 30 variables in one go into your model, perhaps with some interactions, you will encounter some issues. First of all, R may become quite slow! Second, there may be estimation issues, because these are perhaps just many variables. Maybe it is worthwhile to first try a model with just a few variables</p></li>
</ul>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>